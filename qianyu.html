<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>

	</head>

	<body>
		<p>
			<video src="mediasrc/original.mp4" width="320" height="240" controls="controls" id="videoplayer" onplay="playMth()" onpause="pauseMth()" onended="stopMth()" />
		</p>
		<p hidden="hidden">
			<audio id="aplayer" ></audio> 
		</p>
		<p>
			<textarea id="lrctxt" cols="40"></textarea>

		</p>
		<p>
			<textarea id="lrcalltxt" cols="40"></textarea>
		</p>
		<p>
			<button id="mRecord" onclick="micRecord();">record</button>
		</p>

		<p>
			<canvas class="visualizer" id="cvs"></canvas>
			<button class="stop" onclick="micStop()">Stop</button>
		</p>
		<p>
			<audio id="audioplayer" controls="controls" ></audio>
		</p>
		<p>
			<input type="button" id="play" disabled value="加载中..." onclick="audioCtrl('play')"/>
			<input type="button" id="stop" value="停止" onclick="audioCtrl('stop')"/>
			<input type="button" id="suspend" value="暂停" onclick="audioCtrl('pause')"/>
			<input type="button" id="resume" value="恢复" onclick="audioCtrl('resume')"/>
		</p>
		<p>
			<input type="button" id="pos" value="3d位置x" onclick="audioPos('x')" />
			<input type="button" id="pos" value="3d位置y" onclick="audioPos('y')" />
			<input type="button" id="pos" value="3d位置z" onclick="audioPos('z')" />
		</p>
		<p>
			<input type="button" id="reb1" value="电话" onclick="audioReverber(0)" />
			<input type="button" id="reb2" value="室内" onclick="audioReverber(1)" />
			<input type="button" id="reb3" value="山洞" onclick="audioReverber(2)" />
			<input type="button" id="reb4" value="教堂" onclick="audioReverber(3)" />
			<input type="button" id="reb5" value="厨房" onclick="audioReverber(4)" />
			<input type="button" id="reb6" value="洗手间" onclick="audioReverber(5)" />
			<input type="button" id="reb7" value="取消混响" onclick="audioReverber(-1)" />
		</p>
		<p>
			<input type="button" id="volue1" value="音量5" onclick="audioVolumn(5)" />
			<input type="button" id="volue2" value="音量0.1" onclick="audioVolumn(0.1)" />
		</p>
		<p>
			<input type="button" id="eq1" value="eqtest" onclick="audioEq()" />
			<input type="button" id="eq2" value="eq取消" onclick="audioEq(-1)" />
		</p>
		<p> 
			<button id="mRecdownloadord" onclick="downloadFile();">Download file</button>
		</p>
	</body>
	<script type="text/javascript" src="src/main.js"></script>
	<script type="text/javascript" src="src/lrc/loader.js"></script>
	<script type="text/javascript" src="src/lrc/lrcCtrl.js"></script>
	<script type="text/javascript" src="src/lrc/lrcParse.js"></script>
	<script type="text/javascript" src="src/3th/myapi.js"></script>
	<script type="text/javascript" src="src/audio/audioRecord.js"></script>
	<script type="text/javascript" src="src/audio/audioEdit.js"></script>
	<script language="javascript" type="text/javascript">
		var v = document.getElementById("videoplayer");
		var main = new Main(v);
		main.initalize();

		function playMth() {
			main.play();
		}

		function pauseMth() {
			main.pause();
		}

		function stopMth() {
			main.stop();
		}

		function micRecord() {
			main.micRecord();
		}

		function micStop() {
			main.micStop();
		}

		function audioCtrl(type) {
           main.audioCtrl(type);
		}

		function audioPos(str) {
			main.audioEdit.pos(str);
		}

		function audioReverber(type) {
			main.audioEdit.setReverber(type);
		}

		function audioVolumn(num) {
			main.audioEdit.setVolume(num);
		}

		function audioEq(type) {
			if(type === -1) {
				var arr = [];
				main.audioEdit.setEQValue(arr);
			} else {
				var arr = [];
				for(var i = 0; i < 10; i++) {
					arr.push(-30);
				}
				main.audioEdit.setEQValue(arr);
			}
		}
		
		function downloadFile(){
			main.downloadFile();
		}
	</script>

</html>